<div class='piano-body full-width'>
  <div class='full-width row center bold'>
    Please enable Web Midi at:
    chrome://settings/content
  </div>
  <div class='row center bold'>
    <select name="mode" id="mode-selector" data-synth-field="mode" class="synth-field" >
      <option name="playing">playing</option>
      <option name="listening">listening</option>
    </select>
    <select name="mode" id="synth-mode-selector" data-synth-field="synthMode" class="synth-field" >
      <option name="envelope">envelope</option>
      <option name="organ">organ</option>
      <option name="pluck">pluck</option>

    </select>
    <select name="wave" id="wave-selector" data-synth-field="wave" class="synth-field" >
      <option name="sin">sin</option>
      <option name="saw">saw</option>
      <option name="tri">tri</option>
    </select>
  </div>
  <div class='row'>
    <div class='col-sm-12'>
      <h3>
        <%= fa_icon 'gear', { class: "gray-text"} %> Synth Controls
      </h3>
    </div>
  </div>
  <div class='row center'>
    <div class='col-xs-4 col-sm-2 col-md-2'>
      <div class='col-xs-12'>
        <label class='full-width text-center'>
          Attack
        </label class='full-width text-center'>
      </div>
      <div class='col-xs-12 text-center'>
        <input type="number" id="synth-attack-input" data-synth-field="attack" name="synthAttack" class="knob synth-field synth-attack-input" data-type="seconds" data-min="0" data-max="10" data-step="0.25" placeholder="Attack 0-10s" value="1" ></input>
      </div>
    </div>
    <div class='col-xs-4 col-sm-2 col-md-2'>
      <div class='col-xs-12'>
        <label class='full-width text-center'>
          Decay
        </label class='full-width text-center'>
      </div>
      <div class='col-xs-12 text-center'>
        <input type="number" id="synth-decay-input" data-synth-field="decay" name="synthDecay" class="knob synth-field synth-Decay-input" data-type="seconds" placeholder="Decay 0-10s" data-step="0.25" data-min="0" data-max="10" value="1" ></input>
      </div>
    </div>
    <div class='col-xs-4 col-sm-2 col-md-2'>
      <div class='col-xs-12 text-center'>
        <label class='full-width text-center'>
          Sustain
        </label class='full-width text-center'>
      </div>
      <div class='col-xs-12 text-center'>
        <input type="number" id="synth-sustain-input" data-synth-field="sustain" name="synthSustain" data-type="seconds" class="knob synth-field synth-sustain-input" data-min="0" data-max="10" data-step="1"placeholder="sustain (0 - 10s)" value="1" ></input>
      </div>
    </div>
    <div class='col-xs-4 col-sm-2 col-md-2'>
      <div class='col-xs-12 text-center'>
        <label class='full-width text-center'>
          Release
        </label class='full-width text-center'>
      </div>
      <div class='col-xs-12 text-center'>
        <input type="number" id="synth-release-input" data-synth-field="release" name="synthRelease" data-type="seconds" class="knob synth-field synth-release-input" data-min="0" data-max="10" data-step="1" placeholder="Release (0 - 10s)" value="1" ></input>
      </div>
    </div>
    <div class='col-xs-4 col-sm-2 col-md-2'>
      <div class='col-xs-12 text-center'>
        <label class='full-width text-center'>
          Reverb
        </label class='full-width text-center'>
      </div>
      <div class='col-xs-12 text-center'>
        <input type="number" id="synth-reverb-input" data-synth-field="reverb" name="synthReverb" class="knob synth-field synth-reverb-input" data-min="0" data-max="1" placeholder="reverb 0-100%" value="100" ></input>
      </div>
    </div> 
    <div class='col-xs-4 col-sm-2 col-md-2'>
      <div class="col-xs-12 text-center">
        <label class='full-width text-center'>Volume</label class='full-width text-center'>
      </div>
      <div class="col-xs-12 text-center">
        <input type="number" data-synth-field='volume' id="synth-volume-input" name="synthVolume" class="knob synth-field synth-volume-input" data-step="1"data-min="0" data-max="6" placeholder="Volume 0 - 6" value="1" ></input>
      </div>
    </div>
  </div>
  <div class='row'>
    <div class='col-xs-12'>
      <h3>
        <%= fa_icon "circle", { class: "red-text" } %> Recording Controls
      </h3>
    </div>
  </div>
  <div class='row'>
    <div class='col-xs-4 col-sm-2 col-md-2'>
      <div class='col-sm-12 text-center'>
        <label class='full-width text-center'>
          BPM
        </label class='full-width text-center'>
      </div>
      <div class='col-sm-12 text-center'>
        <input type="number" id="synth-bpm-input" data-synth-field="Bpm" name="synthBPM" class="knob synth-field synth-BPM-input" data-step="1" data-min="1" data-max="200" placeholder="BPM (ms)" value="128" ></input>
      </div>
    </div>
    <div class='col-xs-4 col-sm-2 col-md-2'>
      <div class='col-sm-12 text-center'>
        <label class='full-width text-center'>
          Beats Per Loop
        </label class='full-width text-center'>
      </div>
      <div class='col-sm-12 text-center'>
        <input type="number" id="synth-bpl-input" data-synth-field="Bpl" name="synthBPL" class="knob synth-field synth-BPL-input" data-step="1" data-min="1" data-max="64" placeholder="Beats per loop" value="8" ></input>
      </div>
    </div>
    <div class='col-xs-4 col-sm-2 text-center'>
      <label class='col-sm-12'>Loop</label>
      <a class='btn btn-large red-text med-font record-btn js-record-action' data-action='startRecording'>
        <%= fa_icon 'circle' %> Rec
      </a>
      <a class='btn btn-large hide med-font stop-btn js-record-action' data-action='stopRecording'>
        <%= fa_icon 'square' %> Stop
      </a>
      <div class='recording-status-text red-text'>
      </div>
    </div>
    <div class='col-xs-4 col-sm-2 text-center'>
      <label class='full-width text-center'>
        Metronome
      </label>
      <div class="onoffswitch">
        <input class='onoffswitch-checkbox js-record-action' data-action='toggleMetronome' type="checkbox" name="onoffswitch" id="myonoffswitch">
        <label class="onoffswitch-label" for="myonoffswitch">
            <span class="onoffswitch-inner"></span>
            <span class="onoffswitch-switch"></span>
        </label>
      </div>
      <div class='record-time'>
      </div>
    </div>
    <div class='col-xs-4 col-sm-2 col-md-2'>
      <div class='col-sm-12'>
        <label class='full-width text-center'>
          Metronome Vol
        </label>
      </div>
      <div class='col-sm-12 text-center'>
        <input type="number" id="synth-metronome-vel-input" data-synth-field="MetronomeVel" data-step="1" name="synthVel" class="knob synth-field synth-vel-input" data-min="1" data-max="127" placeholder="Metronome velocity" value="80" ></input>
      </div>
    </div>
    <div class='col-xs-4 col-sm-2 col-md-2'>
      <div class='col-sm-12'>
        <label class='full-width text-center'>
          Bars before start
        </label>
      </div>
      <div class='col-sm-12 text-center'>
        <input type="number" id="synth-bfs-input" data-synth-field="Bfs" name="synthBFS" class="knob synth-field synth-BFS-input" data-min="1" data-max="4" placeholder="Bars before start" value="1" ></input>
      </div>
    </div>
  </div>
  <p class="notice"><%= notice %></p>
  <p class="alert"><%= alert %></p>

  <div id="p-wrapper">
    <ul id="piano">
      <% (2..5).each do |octave| %>
        <div class="octave">
          <li><div id="C<%= octave %>" class="anchor"></div></li>
          <li><div id="D<%= octave %>" class="anchor"></div><span id="Csharp<%= octave %>"></span></li>
          <li><div id="E<%= octave %>" class="anchor"></div><span id="Dsharp<%= octave %>"></span></li>
          <li><div id="F<%= octave %>" class="anchor"></div></li>
          <li><div id="G<%= octave %>" class="anchor"></div><span id="Fsharp<%= octave %>"></span></li>
          <li><div id="A<%= octave %>" class="anchor"></div><span id="Gsharp<%= octave %>"></span></li>
          <li><div id="B<%= octave %>" class="anchor"></div><span id="Asharp<%= octave %>"></span></li>
        </div>
      <% end %>
      <li><div id="C6" class="anchor"></div></li>
  </div>
  <div class="recordings-container container mvmd">
  </div>
  <div id="page-wrapper" class="clearfix">
    <canvas id="synth-pad"></canvas>
  </div>
  <%= render partial: "partials/templates/record_row" %>
</div>